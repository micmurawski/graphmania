{"version":3,"sources":["../../src/view/connection.js"],"names":["ConnectionView","Emitter","constructor","connection","inputNode","outputNode","emitter","el","document","createElement","style","position","zIndex","trigger","points","getPoints","x1","y1","getSocketPosition","output","x2","y2","input","update"],"mappings":";;;;;;;AAAA;;;;AAGO,MAAMA,cAAN,SAA6BC,aAA7B,CAAqC;AAOxCC,EAAAA,WAAW,CAACC,UAAD,EAAaC,SAAb,EAAwBC,UAAxB,EAAoCC,OAApC,EAA6C;AACpD,UAAMA,OAAN;;AADoD;;AAAA;;AAAA;;AAAA;;AAEpD,SAAKH,UAAL,GAAkBA,UAAlB;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKC,UAAL,GAAkBA,UAAlB;AAEA,SAAKE,EAAL,GAAUC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV;AACA,SAAKF,EAAL,CAAQG,KAAR,CAAcC,QAAd,GAAyB,UAAzB;AACA,SAAKJ,EAAL,CAAQG,KAAR,CAAcE,MAAd,GAAuB,IAAvB;AAEA,SAAKC,OAAL,CAAa,kBAAb,EAAiC;AAC7BN,MAAAA,EAAE,EAAE,KAAKA,EADoB;AAE7BJ,MAAAA,UAAU,EAAE,KAAKA,UAFY;AAG7BW,MAAAA,MAAM,EAAE,KAAKC,SAAL;AAHqB,KAAjC;AAKH;;AAEDA,EAAAA,SAAS,GAAG;AACR,QAAM,CAACC,EAAD,EAAKC,EAAL,IAAW,KAAKZ,UAAL,CAAgBa,iBAAhB,CAAkC,KAAKf,UAAL,CAAgBgB,MAAlD,CAAjB;AACA,QAAM,CAACC,EAAD,EAAKC,EAAL,IAAW,KAAKjB,SAAL,CAAec,iBAAf,CAAiC,KAAKf,UAAL,CAAgBmB,KAAjD,CAAjB;AAEA,WAAO,CAACN,EAAD,EAAKC,EAAL,EAASG,EAAT,EAAaC,EAAb,CAAP;AACH;;AAEDE,EAAAA,MAAM,GAAG;AACL,SAAKV,OAAL,CAAa,kBAAb,EAAiC;AAC7BN,MAAAA,EAAE,EAAE,KAAKA,EADoB;AAE7BJ,MAAAA,UAAU,EAAE,KAAKA,UAFY;AAG7BW,MAAAA,MAAM,EAAE,KAAKC,SAAL;AAHqB,KAAjC;AAKH;;AArCuC","sourcesContent":["import { Emitter } from '../core.js';\n\n\nexport class ConnectionView extends Emitter {\n\n    connection;\n    inputNode;\n    outputNode;\n    el;\n\n    constructor(connection, inputNode, outputNode, emitter) {\n        super(emitter);\n        this.connection = connection;\n        this.inputNode = inputNode;\n        this.outputNode = outputNode;\n\n        this.el = document.createElement('div');\n        this.el.style.position = 'absolute';\n        this.el.style.zIndex = '-1';\n\n        this.trigger('renderconnection', {\n            el: this.el,\n            connection: this.connection,\n            points: this.getPoints()\n        });\n    }\n\n    getPoints() {\n        const [x1, y1] = this.outputNode.getSocketPosition(this.connection.output);\n        const [x2, y2] = this.inputNode.getSocketPosition(this.connection.input);\n\n        return [x1, y1, x2, y2];\n    }\n\n    update() {\n        this.trigger('updateconnection', {\n            el: this.el,\n            connection: this.connection,\n            points: this.getPoints()\n        });\n    }\n}"],"file":"connection.js"}